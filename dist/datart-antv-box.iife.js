(function(){"use strict";const e="@global@";function t({dHelper:t}){const a=[{x:"Oceania",low:1,q1:9,median:16,q3:22,high:24},{x:"East Europe",low:1,q1:5,median:8,q3:12,high:16},{x:"Australia",low:1,q1:8,median:12,q3:19,high:26},{x:"South America",low:2,q1:8,median:12,q3:21,high:28},{x:"North Africa",low:1,q1:8,median:14,q3:18,high:24},{x:"North America",low:3,q1:10,median:17,q3:28,high:30},{x:"West Europe",low:1,q1:7,median:10,q3:17,high:22},{x:"West Africa",low:1,q1:6,median:8,q3:13,high:16}];return{config:{datas:[{label:`${e}.box.dimension`,key:"dimension",type:"group",required:true,limit:[1,1]},{label:`${e}.box.min`,key:"min",type:"aggregate",required:true,limit:[1,1]},{label:`${e}.box.q1`,key:"q1",type:"aggregate",required:true,limit:[1,1]},{label:`${e}.box.median`,key:"median",type:"aggregate",required:true,limit:[1,1]},{label:`${e}.box.q3`,key:"q3",type:"aggregate",required:true,limit:[1,1]},{label:`${e}.box.max`,key:"max",type:"aggregate",required:true,limit:[1,1]}],styles:[{label:"boxStyle.title",key:"boxStyle",comType:"group",rows:[{label:"boxStyle.fill",key:"fill",default:"#1890FF",comType:"fontColor"},{label:"boxStyle.stroke",key:"stroke",default:"#545454",comType:"fontColor"},{label:"boxStyle.fillOpacity",key:"fillOpacity",default:.3,comType:"inputNumber"}]},{label:"theme.title",key:"theme",comType:"group",rows:[{label:"theme.current",key:"current",comType:"select",default:"default",options:{translateItemLabel:false,items:[{label:"默认",value:"default"},{label:"黑暗主题",value:"dark"}]}}]}],i18ns:[{lang:"zh",translation:{box:{dimension:"维度",min:"最小值",q1:"第一分位",median:"中位数",q3:"第三分位",max:"最大位"},theme:{title:"主题设置",current:"当前主题"},boxStyle:{title:"箱线图样式设置",fill:"图形的填充色",stroke:"图形的描边",fillOpacity:"填充透明度"}}},{lang:"en",translation:{theme:{title:"Theme Style",current:"Current"}}}]},isISOContainer:"antv-g2plot",dependency:["https://cdnjs.cloudflare.com/ajax/libs/g2plot/2.4.23/g2plot.min.js"],meta:{id:"experiment-antv-box",name:"[Experiment] AntV Box Chart",icon:"chart",requirements:[{group:1,aggregate:5}]},_chart:null,onMount(e,t){if(void 0===e.containerId||!t.document)return;const{Box:i}=t.window.G2Plot;if(!i)return;this._chart=new i(e.containerId,{autoFit:true,data:a,xField:"x",yField:["low","q1","median","q3","high"],boxStyle:{stroke:"#545454",fill:"#1890FF",fillOpacity:.3},animation:false});this._chart.render()},onUpdated(e,t){if(!this._chart)return;if(!this.isMatchRequirement(e.config))return;const a=this.getOptions(e.dataset,e.config,e.drillOption,e.selectedItems);this._chart.update(a)},onUnMount(){if(!this._chart)return;this._chart.destroy()},onResize(e,t){if(!this._chart)return;if(!t.width||!t.height)return;this._chart.changeSize(t.width,t.height)},getOptions(e,a,i,l){const r=a.styles||[];const o=a.datas||[];const n=o.filter((e=>"dimension"===e.key)).flatMap((e=>e.rows||[])).map((e=>e.colName)).findLast((e=>e));const s=o.filter((e=>"min"===e.key)).flatMap((e=>e.rows||[])).map((e=>`${e.aggregate}(${e.colName})`)).findLast((e=>e));const m=o.filter((e=>"q1"===e.key)).flatMap((e=>e.rows||[])).map((e=>`${e.aggregate}(${e.colName})`)).findLast((e=>e));const c=o.filter((e=>"median"===e.key)).flatMap((e=>e.rows||[])).map((e=>`${e.aggregate}(${e.colName})`)).findLast((e=>e));const d=o.filter((e=>"q3"===e.key)).flatMap((e=>e.rows||[])).map((e=>`${e.aggregate}(${e.colName})`)).findLast((e=>e));const g=o.filter((e=>"max"===e.key)).flatMap((e=>e.rows||[])).map((e=>`${e.aggregate}(${e.colName})`)).findLast((e=>e));const h=t.transformToObjectArray(e.rows,e.columns);const[u,f,y]=t.getStyles(r,["boxStyle"],["fill","stroke","fillOpacity"]);const[p]=t.getStyles(r,["theme"],["current"]);return{data:h,xField:n,yField:[s,m,c,d,g],theme:p,boxStyle:{stroke:f,fill:u,fillOpacity:y},animation:false}}}}return t})();
